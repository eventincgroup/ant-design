{"version":3,"sources":["popconfirm/index.jsx"],"names":["__rest","s","e","t","p","Object","prototype","hasOwnProperty","call","indexOf","getOwnPropertySymbols","i","length","propertyIsEnumerable","Popconfirm","props","onConfirm","setVisible","onCancel","onVisibleChange","visible","disabled","saveTooltip","node","tooltip","renderOverlay","prefixCls","popconfirmLocale","okButtonProps","cancelButtonProps","title","cancelText","okText","okType","icon","renderConfirm","getPrefixCls","_a","customizePrefixCls","placement","restProps","overlay","defaultLocale","state","getPopupDomNode","setState","nextProps","defaultVisible","React","Component","defaultProps","transitionName","trigger"],"mappings":"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","sourcesContent":["var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { polyfill } from 'react-lifecycles-compat';\nimport Tooltip from '../tooltip';\nimport Icon from '../icon';\nimport Button from '../button';\nimport LocaleReceiver from '../locale-provider/LocaleReceiver';\nimport defaultLocale from '../locale/default';\nimport { ConfigConsumer } from '../config-provider';\nclass Popconfirm extends React.Component {\n    constructor(props) {\n        super(props);\n        this.onConfirm = (e) => {\n            this.setVisible(false, e);\n            const { onConfirm } = this.props;\n            if (onConfirm) {\n                onConfirm.call(this, e);\n            }\n        };\n        this.onCancel = (e) => {\n            this.setVisible(false, e);\n            const { onCancel } = this.props;\n            if (onCancel) {\n                onCancel.call(this, e);\n            }\n        };\n        this.onVisibleChange = (visible) => {\n            const { disabled } = this.props;\n            if (disabled) {\n                return;\n            }\n            this.setVisible(visible);\n        };\n        this.saveTooltip = (node) => {\n            this.tooltip = node;\n        };\n        this.renderOverlay = (prefixCls, popconfirmLocale) => {\n            const { okButtonProps, cancelButtonProps, title, cancelText, okText, okType, icon, } = this.props;\n            return (<div>\n        <div className={`${prefixCls}-inner-content`}>\n          <div className={`${prefixCls}-message`}>\n            {icon}\n            <div className={`${prefixCls}-message-title`}>{title}</div>\n          </div>\n          <div className={`${prefixCls}-buttons`}>\n            <Button onClick={this.onCancel} size=\"small\" {...cancelButtonProps}>\n              {cancelText || popconfirmLocale.cancelText}\n            </Button>\n            <Button onClick={this.onConfirm} type={okType} size=\"small\" {...okButtonProps}>\n              {okText || popconfirmLocale.okText}\n            </Button>\n          </div>\n        </div>\n      </div>);\n        };\n        this.renderConfirm = ({ getPrefixCls }) => {\n            const _a = this.props, { prefixCls: customizePrefixCls, placement } = _a, restProps = __rest(_a, [\"prefixCls\", \"placement\"]);\n            const prefixCls = getPrefixCls('popover', customizePrefixCls);\n            const overlay = (<LocaleReceiver componentName=\"Popconfirm\" defaultLocale={defaultLocale.Popconfirm}>\n        {(popconfirmLocale) => this.renderOverlay(prefixCls, popconfirmLocale)}\n      </LocaleReceiver>);\n            return (<Tooltip {...restProps} prefixCls={prefixCls} placement={placement} onVisibleChange={this.onVisibleChange} visible={this.state.visible} overlay={overlay} ref={this.saveTooltip}/>);\n        };\n        this.state = {\n            visible: props.visible,\n        };\n    }\n    static getDerivedStateFromProps(nextProps) {\n        if ('visible' in nextProps) {\n            return { visible: nextProps.visible };\n        }\n        if ('defaultVisible' in nextProps) {\n            return { visible: nextProps.defaultVisible };\n        }\n        return null;\n    }\n    getPopupDomNode() {\n        return this.tooltip.getPopupDomNode();\n    }\n    setVisible(visible, e) {\n        const { props } = this;\n        if (!('visible' in props)) {\n            this.setState({ visible });\n        }\n        const { onVisibleChange } = props;\n        if (onVisibleChange) {\n            onVisibleChange(visible, e);\n        }\n    }\n    render() {\n        return <ConfigConsumer>{this.renderConfirm}</ConfigConsumer>;\n    }\n}\nPopconfirm.defaultProps = {\n    transitionName: 'zoom-big',\n    placement: 'top',\n    trigger: 'click',\n    okType: 'primary',\n    icon: <Icon type=\"exclamation-circle\" theme=\"filled\"/>,\n    disabled: false,\n};\npolyfill(Popconfirm);\nexport default Popconfirm;\n"],"file":"index.js"}